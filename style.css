*{box-sizing:border-box;-webkit-tap-highlight-color: transparent;}
html,body{margin:0;padding:0;background:#000;color:#fff;height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
#app{display:flex;flex-direction:column;height:100%;}
.topbar{display:flex;align-items:center;gap:.75rem;padding:.5rem .75rem;background:#111;border-bottom:1px solid #222;position:sticky;top:0;z-index:5}
.brand{font-weight:700;letter-spacing:.3px;font-size:1rem;opacity:.9}
.spacer{flex:1}
.btn{background:#1f1f1f;border:1px solid #333;color:#fff;padding:.45rem .8rem;border-radius:.75rem;cursor:pointer}
.btn:active{transform:scale(.98)}
#stage{position:relative;flex:1;overflow:hidden;display:flex;align-items:center;justify-content:center;padding:1rem}
#anchorWrap{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.75rem}
#anchorImg{max-width:min(75vw,560px);max-height:min(65vh,560px);object-fit:contain;border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,.6);border:1px solid #222}
.name{font-size:1.1rem;opacity:.95}
#gridOverlay{position:absolute;inset:0;background:#000;display:flex;flex-direction:column;z-index:4}
#gridOverlay.hidden{display:none}
.gridHeader{padding:.75rem 1rem;border-bottom:1px solid #222}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem;padding:1rem;overflow-y:auto;-webkit-overflow-scrolling:touch}
.tile{display:flex;flex-direction:column;align-items:center;gap:.5rem;background:#0b0b0b;border:1px solid #222;border-radius:14px;padding:.65rem;cursor:pointer}
.tile:active{transform:scale(.98)}
.tile img{width:100%;height:26vh;object-fit:contain;background:#000;border-radius:10px}
.tile .label{font-size:.95rem;opacity:.95}
.highlight{outline:3px solid #7aa8ff;outline-offset:2px}
.noselect{user-select:none;-webkit-user-select:none;-ms-user-select:none}
